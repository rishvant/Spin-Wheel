import React, { useState, useRef } from "react";
import Chevron from "./Chevron";
import styles from  "./styles.module.css";

function Accordion(props) {
  const [setActive, setActiveState] = useState("");
  const [setHeight, setHeightState] = useState("0px");
  const [setRotate, setRotateState] = useState("accordion__icon");

  const content = useRef(null);

  function toggleAccordion() {
    setActiveState(setActive === "" ? "active" : "");
    setHeightState(
      setActive === "active" ? "0px" : `${content.current.scrollHeight}px`
    );
    setRotateState(
      setActive === "active" ? "accordion__icon" : "accordion__icon rotate"
    );
  }

  return (
    <div className={`${styles.accordion__section} w-[90%] h-fit mt-8 border-2 border-gray-400 rounded-2xl`}>
      <button className={`${styles.accordion} ${setActive} border ${setActive ? "border-b-[#0000002E]": "border-b-transparent"} border-transparent`} onClick={toggleAccordion}>
        <p className={`text-2xl text-black font-bold flex flex-row items-center gap-4 ${styles.accordion__title}`}>
          <svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.21018 3.12518H14.7903C14.8796 3.12518 14.9653 3.09432 15.0285 3.03937C15.0917 2.98443 15.1272 2.90991 15.1272 2.83221C15.1272 2.75451 15.0917 2.68 15.0285 2.62505C14.9653 2.57011 14.8796 2.53925 14.7903 2.53925H6.21018C6.12083 2.53925 6.03513 2.57011 5.97195 2.62505C5.90876 2.68 5.87327 2.75451 5.87327 2.83221C5.87327 2.90991 5.90876 2.98443 5.97195 3.03937C6.03513 3.09432 6.12083 3.12518 6.21018 3.12518ZM6.21018 6.64081H14.7903C14.8796 6.64081 14.9653 6.60994 15.0285 6.555C15.0917 6.50006 15.1272 6.42554 15.1272 6.34784C15.1272 6.27014 15.0917 6.19562 15.0285 6.14068C14.9653 6.08574 14.8796 6.05487 14.7903 6.05487H6.21018C6.12083 6.05487 6.03513 6.08574 5.97195 6.14068C5.90876 6.19562 5.87327 6.27014 5.87327 6.34784C5.87327 6.42554 5.90876 6.50006 5.97195 6.555C6.03513 6.60994 6.12083 6.64081 6.21018 6.64081ZM6.21018 4.883H14.7903C14.8796 4.883 14.9653 4.85213 15.0285 4.79719C15.0917 4.74224 15.1272 4.66773 15.1272 4.59003C15.1272 4.51233 15.0917 4.43781 15.0285 4.38287C14.9653 4.32792 14.8796 4.29706 14.7903 4.29706H6.21018C6.12083 4.29706 6.03513 4.32792 5.97195 4.38287C5.90876 4.43781 5.87327 4.51233 5.87327 4.59003C5.87327 4.66773 5.90876 4.74224 5.97195 4.79719C6.03513 4.85213 6.12083 4.883 6.21018 4.883ZM21.7042 3.77414L21.2277 3.35982C21.0382 3.195 20.7811 3.10241 20.513 3.10241C20.2449 3.10241 19.9879 3.195 19.7983 3.35982L18.2268 4.72636V1.46503C18.2263 1.07666 18.0486 0.704325 17.7328 0.429708C17.417 0.155092 16.9888 0.000620031 16.5422 0.000183105H4.45823C4.01161 0.000620134 3.58342 0.155092 3.26761 0.429709C2.9518 0.704325 2.77416 1.07666 2.77366 1.46503V16.6799H0.954102C0.909856 16.6799 0.866044 16.6874 0.825166 16.7022C0.784288 16.7169 0.747146 16.7385 0.71586 16.7657C0.684574 16.7929 0.659757 16.8252 0.642827 16.8607C0.625896 16.8963 0.617184 16.9344 0.617188 16.9728V18.5353C0.61769 18.9237 0.795332 19.296 1.11114 19.5707C1.42695 19.8453 1.85514 19.9997 2.30176 20.0002H16.5869C16.5991 20.0002 16.6113 19.9996 16.6235 19.9984C17.0555 19.9798 17.4628 19.8176 17.7612 19.5453C18.0596 19.273 18.2263 18.9115 18.2268 18.5353V8.04099L21.7042 5.01716C21.8935 4.85219 21.9997 4.62868 21.9997 4.39565C21.9997 4.16262 21.8935 3.93911 21.7042 3.77414ZM2.30176 19.4142C2.03379 19.414 1.77688 19.3213 1.58739 19.1565C1.39791 18.9918 1.29132 18.7684 1.29102 18.5353V17.2658H14.7227V18.4767C14.7224 18.8167 14.8536 19.1469 15.0952 19.4142H2.30176ZM17.553 16.9691C17.5529 16.9703 17.5527 16.9716 17.5527 16.9728V18.4767C17.5527 18.7254 17.4391 18.9638 17.237 19.1397C17.0348 19.3155 16.7605 19.4142 16.4746 19.4142C16.1887 19.4142 15.9144 19.3155 15.7123 19.1397C15.5101 18.9638 15.3965 18.7254 15.3965 18.4767V16.9728C15.3965 16.9344 15.3878 16.8963 15.3708 16.8607C15.3539 16.8252 15.3291 16.7929 15.2978 16.7657C15.2665 16.7385 15.2294 16.7169 15.1885 16.7022C15.1476 16.6874 15.1038 16.6799 15.0596 16.6799C15.052 16.6799 15.0446 16.6804 15.0371 16.6809C15.0297 16.6804 15.0222 16.6799 15.0146 16.6799H3.44748V1.46503C3.44779 1.23201 3.55438 1.00861 3.74386 0.843842C3.93335 0.679073 4.19026 0.586388 4.45823 0.586121H16.5422C16.8102 0.586388 17.0671 0.679073 17.2566 0.843842C17.4461 1.00861 17.5526 1.23201 17.553 1.46503V5.3123L11.3084 10.7424H6.21018C6.12083 10.7424 6.03513 10.7732 5.97195 10.8282C5.90876 10.8831 5.87327 10.9576 5.87327 11.0353C5.87327 11.113 5.90876 11.1876 5.97195 11.2425C6.03513 11.2974 6.12083 11.3283 6.21018 11.3283H10.6345L9.31598 12.4749C9.30722 12.4826 9.29895 12.4906 9.29121 12.4991L9.29029 12.5002H6.21018C6.12083 12.5002 6.03513 12.531 5.97195 12.586C5.90876 12.6409 5.87327 12.7155 5.87327 12.7932C5.87327 12.8709 5.90876 12.9454 5.97195 13.0003C6.03513 13.0553 6.12083 13.0861 6.21018 13.0861H9.04418L8.59497 14.258H6.21018C6.12083 14.258 6.03513 14.2889 5.97195 14.3438C5.90876 14.3987 5.87327 14.4733 5.87327 14.551C5.87327 14.6287 5.90876 14.7032 5.97195 14.7581C6.03513 14.8131 6.12083 14.8439 6.21018 14.8439H8.72581C8.75015 14.8439 8.77442 14.8416 8.79819 14.837C8.84794 14.8428 8.89854 14.8385 8.94607 14.8244L11.0902 14.2029C11.0924 14.2023 11.0944 14.2014 11.0966 14.2007C11.1048 14.1982 11.1129 14.1954 11.121 14.1923C11.1244 14.1909 11.1278 14.1896 11.1312 14.1881C11.139 14.1848 11.1467 14.1812 11.1543 14.1773C11.1575 14.1757 11.1606 14.1741 11.1638 14.1724C11.1714 14.1682 11.1789 14.1636 11.1862 14.1588C11.1888 14.157 11.1916 14.1555 11.1941 14.1537C11.2038 14.147 11.2131 14.1398 11.2219 14.1322L12.4249 13.0861H14.7903C14.8796 13.0861 14.9653 13.0553 15.0285 13.0003C15.0917 12.9454 15.1272 12.8708 15.1272 12.7931C15.1272 12.7154 15.0917 12.6409 15.0285 12.586C14.9653 12.531 14.8796 12.5002 14.7903 12.5002H13.0987L17.553 8.62693V16.9691ZM9.70146 13.2244L10.3599 13.797L9.37222 14.0833L9.70146 13.2244ZM10.9837 13.5107L10.0307 12.6821L18.1274 5.64149L18.1288 5.64031L19.0093 4.8746L19.9622 5.70323L10.9837 13.5107ZM21.2277 4.60281L20.4387 5.28888L19.4858 4.46025L20.2748 3.77418C20.3061 3.74697 20.3432 3.72538 20.3841 3.71065C20.425 3.69593 20.4688 3.68835 20.513 3.68835C20.5573 3.68835 20.6011 3.69593 20.6419 3.71065C20.6828 3.72538 20.7199 3.74697 20.7512 3.77418L21.2277 4.18849C21.2908 4.24347 21.3262 4.31797 21.3262 4.39565C21.3262 4.47332 21.2908 4.54783 21.2277 4.60281Z" fill="#3B3C41"/>
</svg>
          Terms & Conditions</p>
        <div className="ml-[35%] sm:ml-[80%] flex flex-row justify-end">
          <Chevron className={`${setRotate}`} width={10} fill={"#777"} />
          </div>
      </button>
      <ul
        ref={content}
        style={{ maxHeight: `${setHeight}` }}
        className={`${styles.accordion__content} rounded-2xl px-8 flex flex-col gap-4`}
      >
        <li className="mt-4">No refund on purchased tickets are possible </li>
        <li>Please carry a valid Id proof along with you. </li>
        <li>No dangerous objects will be allowed. </li>
        <li>Organisers hold the right to reschedule the event . </li>
        <li>By acquiring a ticket, you consent to receive communications via email, whatsapp from the associated entities. </li>
        <div
          className={styles.accordion__text}
          dangerouslySetInnerHTML={{ __html: props.content }}
        />
      </ul>
    </div>
  );
}

export default Accordion;